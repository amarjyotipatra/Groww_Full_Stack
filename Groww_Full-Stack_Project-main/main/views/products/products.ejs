<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groww - Product</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="icon" href="https://groww.in/logo-groww270.png" type="image/x-icon">
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/search_box.css">
    <link rel="stylesheet" href="css/product.css">
</head>

<body>

    <nav class="under_line">
        <div class="nav-div max-w">
            <div><a href="home"><img class="" src="https://bit.ly/3nMw3oc" width="148" height="40" alt="Groww Logo"
                        itemprop="logo"></a>
            </div>

            <div class="c-search">
                <i class="material-icons">search</i><input type="search" id="search"
                    placeholder="What are you looking for today?" />
            </div>

            <div id="thirdBox">
                <a href="signup"><button id="login-btn" class="dontDisplay">Login/Register</button></a></li>
                <div id="userAcc" class="afterLogin">
                    <img id="user" src="https://www.shareicon.net/data/2016/05/26/771188_man_512x512.png">
                    <a href="cart"><i class="material-icons">shopping_cart</i></a></li>
                </div>
            </div>
        </div>
    </nav>

    <div id="logOutDropDown" class="noDropDownDisplay">
        <div class="logout">Log Out</div>
    </div>
    <div id="dropDown" class="noDropDownDisplay"></div>

    <!-- nav bar END -->

    <div class="filter_page">
        <div class="f-div">

            <!-- filter -->

            <div class="filter_opt">
                <div class="f-text f-border">
                    <div class="clrtext">FILTERS</div>
                    <div class="clrtext2" id="clearFilterBtn" onclick="clear_Tick()">Clear All</div>
                </div>

                <!-- 01 -->

                <!-- separte - one option div  (Start)  -->

                <div class="f-border">
                    <div class="cur-po">

                        <!--  -->

                        <div class="flex-div space-btw head_main">
                            <div class="a1_title ">
                                <div class="a1_text1">AMC</div>
                            </div>

                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" height="20"
                                width="20">
                                <path d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path>
                            </svg>
                        </div>

                        <div>

                            <div aria-hidden="false" class="rah-static rah-static--height-auto"
                                style="height: auto;overflow: visible;">
                                <div style="display: block;">
                                    <div>

                                        <!-- input box -->

                                        <div class="s11AmcSearchInput">
                                            <div class="search11Input">
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                                    fill="currentColor" height="24" width="24" class="search11Icon">
                                                    <path d="M0 0h24v24H0z" fill="none"></path>
                                                    <path
                                                        d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z">
                                                    </path>
                                                </svg>
                                                <input id="searchAMC" class="search_input" type="text"
                                                    placeholder="Search Mutual Fund Companies">
                                            </div>
                                        </div>

                                        <!-- check mark check_box -->

                                        <div class="c_list">
                                            <div class="first_checkboxMargin">
                                                <div class="c_alignCenter cur-po box  ">
                                                    <!--  -->

                                                    <input type="checkbox" value="Axis"
                                                        class="check_box checkbox amctick" id="axis">

                                                    <!--  -->
                                                    <div class="c_label">Axis Mutual Fund </div>
                                                </div>
                                            </div>
                                            <div class="c-boxMargin">
                                                <div class="c_alignCenter cur-po box ">

                                                    <!--  -->

                                                    <input type="checkbox" value="ICICI"  class="check_box checkbox amctick" id="icici">

                                                    <!--  -->
                                                    <div class="c_label">ICICI Prudential Technology </div>
                                                </div>
                                            </div>

                                            <div class="c-boxMargin">
                                                <div class="c_alignCenter cur-po box ">
                                                    <!--  -->

                                                    <input type="checkbox" value="HDFC" class="check_box checkbox amctick" id ="hdfc">

                                                    <!--  -->
                                                    <div class="c_label">HDFC</div>
                                                </div>
                                            </div>

                                            <div class="c-boxMargin">
                                                <div class="c_alignCenter cur-po box ">

                                                    <!--  -->

                                                    <input type="checkbox" value="TATA" class="check_box checkbox amctick" id="tata">

                                                    <!--  -->

                                                    <div class="c_label">TATA Digital India</div>
                                                </div>
                                            </div>

                                            <div class="c-boxMargin">
                                                <div class="c_alignCenter cur-po box ">
                                                    <!--  -->

                                                    <input type="checkbox" value="Paragh Parikh" class="check_box checkbox amctick">

                                                    <!--  -->
                                                    <div class="c_label">Paragh Parikh</div>
                                                </div>
                                            </div>

                                            <div class="c-boxMargin">
                                                <div class="c_alignCenter cur-po box ">
                                                    <!--  -->

                                                    <input type="checkbox" value="UTI" class="check_box checkbox amctick">

                                                    <!--  -->
                                                    <div class="c_label">UTI Flexi Cap</div>
                                                </div>
                                            </div>

                                            <div class="c-boxMargin">
                                                <div class="c_alignCenter cur-po  box">
                                                    <!--  -->

                                                    <input type="checkbox" value="Kotak" class="check_box checkbox amctick">

                                                    <!--  -->
                                                    <div class="c_label">Kotak Bluechip Funds</div>
                                                </div>
                                            </div>

                                            <div class="c-boxMargin">
                                                <div class="c_alignCenter cur-po box ">
                                                    <!--  -->

                                                    <input type="checkbox" value="Aditya Birla" class="check_box checkbox amctick">

                                                    <!--  -->
                                                    <div class="c_label">Aditya Birla Sun Life</div>
                                                </div>
                                            </div>

                                            <div class="c-boxMargin">
                                                <div class="c_alignCenter cur-po box ">
                                                    <!--  -->

                                                    <input type="checkbox" value="Nippon India Pharma" class="check_box checkbox amctick">

                                                    <!--  -->
                                                    <div class="c_label">Nippon India Pharma</div>
                                                </div>
                                            </div>

                                            <div class="c-boxMargin">
                                                <div class="c_alignCenter cur-po box ">
                                                    <!--  -->

                                                    <input type="checkbox" value="SBI" class="check_box checkbox amctick">

                                                    <!--  -->
                                                    <div class="c_label">SBI Technology Oppurtunities Fund</div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <!--  -->

                    </div>
                </div>

                <!-- separte - one option div  (End)  -->

                <!-- 2nd -->

                <div class="f-border">
                    <div class="cur-po">

                        <!--  -->

                        <div class="flex-div space-btw head_main">
                            <div class="a1_title ">
                                <div class="a1_text1">category</div>
                            </div>

                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" height="20"
                                width="20">
                                <path d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path>
                            </svg>
                        </div>

                        <!--  -->

                        <!----------- Category ------------->

                        <div>

                            <div class="c_list">
                                <div class="first_checkboxMargin">
                                    <div class="c_alignCenter cur-po box ">
                                        <!--  -->

                                        <input type="checkbox" value="Debt" class="check_box checkbox c_tick">

                                        <!--  -->
                                        <div class="c_label">Debt </div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po box  ">

                                        <!--  -->

                                        <input type="checkbox" value="Equity"  class="check_box checkbox  c_tick">

                                        <!--  -->
                                        <div class="c_label">Equity</div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po box ">
                                        <!--  -->

                                        <input type="checkbox" value="Hybrid" class="check_box checkbox  c_tick">

                                        <!--  -->
                                        <div class="c_label">Hybrid</div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po box ">

                                        <!--  -->

                                        <input type="checkbox" value="others" class="check_box checkbox  c_tick">

                                        <!--  -->

                                        <div class="c_label">Other</div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po box ">
                                        <!--  -->

                                        <input type="checkbox" value="Solution Oriented" class="check_box checkbox  c_tick">

                                        <!--  -->
                                        <div class="c_label">Solution Oriented</div>
                                    </div>
                                </div>

                            </div>

                        </div>

                    </div>
                </div>

                <!-- 2nd end -->

                <!-- 3rd start -->

                <div class="f-border">
                    <div class="cur-po">

                        <!--  -->

                        <div class="flex-div space-btw head_main">
                            <div class="a1_title ">
                                <div class="a1_text1">Risk</div>
                            </div>

                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" height="20"
                                width="20">
                                <path d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path>
                            </svg>
                        </div>

                        <!--  -->

                        <!----------- Risk ------------->

                        <div>

                            <div class="c_list">
                                <div class="first_checkboxMargin">
                                    <div class="c_alignCenter cur-po box ">
                                        <!--  -->

                                        <input type="checkbox" value="Low Risk" class="check_box checkbox R_tick">

                                        <!--  -->
                                        <div class="c_label">Low </div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po  ">

                                        <!--  -->

                                        <input type="checkbox" value="Moderate Low Risk" class="check_box checkbox R_tick">

                                        <!--  -->
                                        <div class="c_label">Moderately Low</div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po  ">
                                        <!--  -->

                                        <input type="checkbox" value="Moderate Risk" class="check_box checkbox R_tick">

                                        <!--  -->
                                        <div class="c_label">Moderate</div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po  ">

                                        <!--  -->

                                        <input type="checkbox" value="Moderate High Risk" class="check_box checkbox R_tick">

                                        <!--  -->

                                        <div class="c_label">Moderately High</div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po  ">
                                        <!--  -->

                                        <input type="checkbox" value="High Risk" class="check_box checkbox R_tick">

                                        <!--  -->
                                        <div class="c_label">High</div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po  ">
                                        <!--  -->

                                        <input type="checkbox" value="Very High Risk" class="check_box checkbox R_tick">

                                        <!--  -->
                                        <div class="c_label">Very High</div>
                                    </div>
                                </div>

                            </div>

                        </div>

                    </div>
                </div>

                <!-- 3rd END -->


                <!-- 4th Start  -->


                <div class="f-border">
                    <div class="cur-po">

                        <!--  -->

                        <div class="flex-div space-btw head_main">
                            <div class="a1_title ">
                                <div class="a1_text1">Fund Size</div>
                            </div>

                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" height="20"
                                width="20">
                                <path d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path>
                            </svg>
                        </div>

                        <!--  -->

                        <!----------- Fund Size ------------->

                        <div>

                            <div class="c_list">
                                <div class="first_checkboxMargin">
                                    <div class="c_alignCenter cur-po  ">
                                        <!--  -->

                                        <input type="checkbox" value="2" class="check_box checkbox F_tick">

                                        <!--  -->
                                        <div class="c_label">Uptp 1,000Cr </div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po  ">

                                        <!--  -->

                                        <input type="checkbox" value="4" class="check_box checkbox F_tick">

                                        <!--  -->
                                        <div class="c_label">Upto 2,000Cr</div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po  ">
                                        <!--  -->

                                        <input type="checkbox" value="10" class="check_box checkbox F_tick">

                                        <!--  -->
                                        <div class="c_label">Upto 5,000Cr</div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po  ">

                                        <!--  -->

                                        <input type="checkbox" value="20" class="check_box checkbox F_tick">

                                        <!--  -->

                                        <div class="c_label">Upto 10,000Cr</div>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>

                <!-- 4th end -->

                <!-- 5th start -->

                <div class="f-border">
                    <div class="cur-po">

                        <!--  -->

                        <div class="flex-div space-btw head_main">
                            <div class="a1_title ">
                                <div class="a1_text1">Available To Invest</div>
                            </div>

                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" height="20"
                                width="20">
                                <path d="M0 0h24v24H0z" fill="none"></path>
                                <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path>
                            </svg>
                        </div>

                        <!--  -->

                        <!----------- Available To Invest ------------->

                        <div>

                            <div class="c_list">
                                <div class="first_checkboxMargin">
                                    <div class="c_alignCenter cur-po  ">
                                        <!--  -->

                                        <input type="checkbox" class="check_box">

                                        <!--  -->
                                        <div class="c_label">SIP </div>
                                    </div>
                                </div>

                                <div class="c-boxMargin">
                                    <div class="c_alignCenter cur-po  ">

                                        <!--  -->

                                        <input type="checkbox" class="check_box">

                                        <!--  -->
                                        <div class="c_label">ONE-TIME</div>
                                    </div>
                                </div>

                            </div>

                        </div>

                    </div>
                </div>

                <!-- 5th END -->

            </div>

            <!--  -->



            <!-- -------------------------------------------------------------------------------------------------------------- -->

            <!-- product display -->

            <div class="result-main  prod_disp_box">

                <div class="flex-div sort_search">
                    <h1 class="clrtext h1-c-text">All Mutual Funds</h1>

                    <div>
                        <div class="pos-rel">
                            <div class="flex-div clrtext-3 sort_box">

                                <div><span class="clrSubText">Sort by: </span> &nbsp;<span>

                                        <select name="pets" id="pet-select">
                                            <option value="popularity">Popularity</option>
                                            <option value="rating_HtoL">Rating-High To Low</option>
                                            <option value="return_HtoL">Return-High To Low</option>
                                        </select>

                                    </span>
                                </div>

                                <!--  -->
                                <!-- <div class="display-flex"></div> -->
                            </div>
                        </div>
                    </div>

                </div>

                <div class="flex-div p_chipBox"></div>

                <!-- product result -display -->

                <div class="p_resultSec">
                    <% products.forEach(product=> { %>
                        <div>

                            <!-- <a href=""> | down div - In | </a> -->

                            <div class="p_card pos-rel">

                                <!-- product - content  -->

                                <div class="p_card_content box box1"
                                    onclick="clickedProductName('<%= JSON.stringify(product) %>')">

                                    <!-- product -- img -->

                                    <div class="pos-abs p-img">
                                        <div class="lazyload-wrapper">
                                            <img class="" src="<%= product.product_image %>" width="30" height="30"
                                                alt="product image">
                                        </div>
                                    </div>

                                    <div class="flex-div p_c_spaceBW">

                                        <!-- product - name  -->

                                        <div class="p_name">

                                            <!-- head Line ( product NAme) -->

                                            <div class="p_head_name">
                                                <!-- ICICI Prudential Technology Direct Plan Growth -->
                                                <%= product.product_name %>
                                            </div>

                                            <div class="flex-div">
                                                <div class="p_sub_text">
                                                    <!-- Very High Risk -->
                                                    <%= product.risk %>
                                                </div>

                                                <div class="mid_dot"></div>

                                                <div class="p_sub_text">
                                                    <!-- Equity -->
                                                    <%= product.category %>
                                                </div>

                                                <div class="mid_dot"></div>

                                                <div class="p_sub_text p_rating flex-div ">

                                                    <!-- 4 -->
                                                    <%= product.rating %>

                                                        <!-- start svg  -->

                                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                                            fill="currentColor" height="12" width="12"
                                                            class="star_icon pos-rel">
                                                            <path d="M0 0h24v24H0z" fill="none"></path>
                                                            <path d="M0 0h24v24H0z" fill="none"></path>
                                                            <path
                                                                d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z">
                                                            </path>
                                                        </svg>

                                                </div>

                                            </div>

                                        </div>

                                        <!-- return percentage - display -->

                                        <div class="flex-div p_return_value ">

                                            <!-- 1ST -->

                                            <div>

                                                <div class="p_graph_perc">
                                                    <!-- -0.79% -->
                                                    <%= product.percentage_interval[0] %>
                                                </div>


                                                <div class="p_graph_subtext">
                                                    1D
                                                </div>

                                            </div>

                                            <!-- 2ND -->

                                            <div>

                                                <div class="p_graph_perc">
                                                    <!-- 78.64% -->
                                                    <%= product.percentage_interval[1] %>
                                                </div>


                                                <div class="p_graph_subtext">
                                                    1Y
                                                </div>

                                            </div>

                                            <!-- 3RD -->

                                            <div>

                                                <div class="p_graph_perc">
                                                    <!-- 41.67% -->
                                                    <%= product.percentage_interval[2] %>
                                                </div>

                                                <div class="p_graph_subtext">
                                                    3Y
                                                </div>

                                            </div>
                                        </div>

                                    </div>



                                </div>

                                <% })%>

                            </div>


                            <!-- a -->



                            <!-- a  2ENd -->


                        </div>

                </div>

            </div>


        </div>
    </div>

    <!-- footer section -->

    <script>
        function clickedProductName(product) {
            const newProduct = JSON.parse(product);
            console.log(newProduct.price);
            window.location.href = `products/${newProduct._id}`
        }

        let checks = document.getElementsByClassName('checkbox');
        let inputs = document.getElementsByTagName('input');
        let arr = [];
        if (localStorage.getItem('filter') === null) {
            localStorage.setItem('filter', JSON.stringify([]));
        }
        if (localStorage.getItem('indexes') === null) {
            localStorage.setItem('indexes', JSON.stringify([]));
        }

        function filter() {
            let newArr = JSON.parse(localStorage.getItem('filter'));
            let nayaarr = JSON.parse(localStorage.getItem('indexes'));
            let amc = 'amc=';
            let cat = 'cat=';
            let fund = 'fund=';
            let risk = 'risk=';


            if (newArr.length == 0) {
            }
            for (let i = 0; i < nayaarr.length; i++) {
                if ( nayaarr[i] >= 2&& nayaarr[i] <= 11) {
                    amc += inputs[nayaarr[i]].value + ",";
                }

                else if (nayaarr[i] >= 12 && nayaarr[i] <= 16) {
                    cat += inputs[nayaarr[i]].value + ',';
                }
                else if (nayaarr[i] >= 17 && nayaarr[i] <= 24) {
                    risk += inputs[nayaarr[i]].value + ',';
                }
                else {
                    fund += inputs[nayaarr[i]].value + ',';
                }
            }
            console.log(nayaarr);

            for (let i = 0; i < nayaarr.length; i++) {
                inputs[nayaarr[i]].checked = true;
            }
            console.log(amc);
            let url = 'products?' + amc + '&' + cat + '&' + risk + '&' + fund;
            console.log(url)

            return url;

        }

        console.log(filter());


        // console.log(inputs[1].value)
        function showProduct() {
            for (let i = 0; i < inputs.length; i++) {
                inputs[i].addEventListener('click', function () {

                    let newArr = JSON.parse(localStorage.getItem('filter'));
                    let nayaarr = JSON.parse(localStorage.getItem('indexes'));
                    ;
                    console.log(inputs[i].checked);
                    if (inputs[i].checked == false) {
                        for (let j = 0; j < newArr.length; j++) {
                            console.log(newArr[j]);
                            if (newArr[j] === inputs[i].value)
                                newArr.splice(j, j + 1);
                        }
                        for (let j = 0; j < nayaarr.length; j++) {
                            if (nayaarr[j] === i) {
                                nayaarr.splice(j, j + 1);
                            }
                        }

                    }

                    else {
                        nayaarr.push(i);
                        newArr.push(inputs[i].value)

                    }

                    console.log(nayaarr)
                    console.log(newArr)


                    localStorage.setItem('indexes', JSON.stringify(nayaarr));
                    localStorage.setItem('filter', JSON.stringify(newArr));
                    window.location.href = filter();
                    inputs[i].checked;
                });
            }
        }

        showProduct();
        console.log(arr);
        //  let arr = [1,2,3,4,5]
        //  arr.forEach(element => console.log(element));
        function clear_Tick() {
            let newArr = JSON.parse(localStorage.getItem('filter'));
            let nayaarr = JSON.parse(localStorage.getItem('indexes'));
            newArr = [];
            nayaarr = [];
            localStorage.setItem('indexes', JSON.stringify(nayaarr));
            localStorage.setItem('filter', JSON.stringify(newArr));


            window.location.href = 'products?'
        }

    </script>

</body>

</html>

<script src="/scripts/search_box.js"></script>
<!-- <script src="/scripts/changeNavbar.js"></script> -->